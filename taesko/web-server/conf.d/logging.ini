[loggers]
keys = root, error, access

[handlers]
keys = root, error, error_file, access, access_file

[formatters]
keys = root, error, access, access_detailed

[logger_root]
level = NOTSET
handlers = root

[handler_root]
class = StreamHandler
level = NOTSET
formatter = root
args = (sys.stderr,)

[formatter_root]
class = logging.Formatter
format = root %(asctime)s %(levelname)s %(process)d %(message)s

[logger_error]
qualname = error
level = INFO
handlers = error, error_file
propagate = 0

[handler_error]
class = StreamHandler
level = WARNING
formatter = error
args = (sys.stderr,)

[handler_error_file]
class = FileHandler
level = WARNING
formatter = error
args = ('/opt/web-server/data/logs/error.log', 'w')

[formatter_error]
class = logging.Formatter
format = %(asctime)s %(levelname)s %(module)s %(lineno)d %(process)d %(message)s

[logger_access]
qualname = access
level = DEBUG
handlers = access, access_file
propagate = 0

[handler_access]
class = StreamHandler
level = NOTSET
formatter = access
args = (sys.stdout,)

[handler_access_file]
class = FileHandler
level = NOTSET
formatter = access_detailed
args = ('/opt/web-server/data/logs/access.log', 'w')

[formatter_access]
class = logging.Formatter
format = %(asctime)s %(process)d "%(request_line)s" %(status_code)d %(response_time)s

[formatter_access_detailed]
class = logging.Formatter
format = %(asctime)s %(process)d "%(request_line)s" %(status_code)d %(ru_utime)s %(ru_stime)s %(ru_maxrss)s %(response_time)s
